(this.webpackJsonpcard_maker=this.webpackJsonpcard_maker||[]).push([[0],{59:function(e,n,t){"use strict";t.r(n);var c,a,r,i,o,l,s,d,u,b,j,h,p,m,x,f,O,g,v,k,w,y,C,R,_,N,S,z,I,F,L,B=t(24),D=t(7),A=t.n(D),T=t(43),U=t.n(T),P=t(11),E=t(8),G=Object(E.b)(c||(c=Object(P.a)(["\n    a{\n        text-decoration: none;\n        color: inherit;\n    }\n    *{\n        box-sizing: border-box;\n        padding: 0;\n        margin: 0;\n        list-style: none;\n    }\n    body{\n        width: 100%;\n        height: 100vh;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        background-color: rgba(0,0,0,0.3);\n    }\n"]))),J=t(6),M=E.c.header(a||(a=Object(P.a)(["\n    text-align: center;\n    padding: 10px;\n    background-color: blueviolet;\n    color: white;\n    position: relative;\n    i{\n        font-size: 40px;\n    }\n"]))),q=E.c.button(r||(r=Object(P.a)(["\n    position: absolute;\n    top: 10px; right: 10px;\n    background: inherit;\n    font-size: 0.5em;\n    border: 0;\n    cursor: pointer;\n"]))),W=function(e){var n=e.onLogout;return Object(J.jsxs)(M,{children:[n&&Object(J.jsx)(q,{onClick:n,children:"Logout"}),Object(J.jsx)("i",{class:"fas fa-address-card"}),Object(J.jsx)("h1",{children:"Card Maker"})]})},K=E.c.footer(i||(i=Object(P.a)(["\n    text-align: center;\n    background-color: blueviolet;\n    color: white;\n    padding: 5px;\n    font-size: 0.5em;\n"]))),H=function(e){return Object(J.jsx)(K,{children:"make cute card :D"})},V=t(12),X=function(e){var n=e.authService,t=function(e){c.push({pathname:"/maker",state:{id:e}})},c=Object(V.e)(),a=function(e){n.login(e.currentTarget.textContent).then((function(e){return t(e.user.uid)}))};return Object(D.useEffect)((function(){n.onAuthChange((function(e){e&&t(e.uid)}))})),Object(J.jsxs)(Y,{children:[Object(J.jsx)(W,{}),Object(J.jsxs)(Z,{children:[Object(J.jsx)(Q,{children:"LOGIN"}),Object(J.jsxs)("ul",{children:[Object(J.jsx)("li",{children:Object(J.jsx)($,{onClick:a,children:"Google"})}),Object(J.jsx)("li",{children:Object(J.jsx)($,{onClick:a,children:"Github"})})]})]}),Object(J.jsx)(H,{})]})},Y=E.c.section(o||(o=Object(P.a)(["\n    width: 30em;\n    text-align: center;\n    background-color: white;\n"]))),Z=E.c.section(l||(l=Object(P.a)(["\n    padding: 30px 20px;\n"]))),Q=E.c.h3(s||(s=Object(P.a)(["\n    margin-bottom: 10px;\n    color: navy;\n"]))),$=E.c.button(d||(d=Object(P.a)(["\n    width: 100%;\n    margin-top: 10px;\n    padding: 5px;\n    border: 2px solid blueviolet;\n    background-color: inherit;\n    color: navy;\n    transition: 0.3s;\n    cursor: pointer;\n    &:hover{\n        border: 2px solid violet;\n        background-color: violet;\n        color: white;\n    }\n"]))),ee=t(37),ne=t(16),te=function(e){var n=e.name,t=e.onClick;return Object(J.jsx)(ce,{onClick:t,children:n})},ce=E.c.button(u||(u=Object(P.a)(["\n    background-color: blueviolet;\n    color: white;\n    font-weight: bold;\n    cursor: pointer;\n    padding: 0.5em;\n    flex: 1 1 50%;\n    font-size: 0.8em;\n    border: 0;\n    &:hover{opacity: 0.8;}\n"]))),ae=function(e){var n=e.FileInput,t=e.onSubmit,c=Object(D.useRef)(),a=Object(D.useRef)(),r=Object(D.useRef)(),i=Object(D.useRef)(),o=Object(D.useRef)(),l=Object(D.useRef)(),s=Object(D.useRef)(),d=Object(D.useState)({fileName:null,fileURL:null}),u=Object(ne.a)(d,2),b=u[0],j=u[1];return Object(J.jsxs)(re,{ref:c,children:[Object(J.jsx)(ie,{ref:a,type:"text",name:"name",placeholder:"Name",required:!0}),Object(J.jsx)(ie,{ref:r,type:"text",name:"company",placeholder:"Company"}),Object(J.jsxs)(oe,{ref:i,name:"theme",placeholder:"Theme",children:[Object(J.jsx)("option",{value:"light",children:"Business_Light"}),Object(J.jsx)("option",{value:"dark",children:"Business_Dark"}),Object(J.jsx)("option",{value:"navy",children:"Business_Navy"}),Object(J.jsx)("option",{value:"sr_blue",children:"SRcard_Blue"}),Object(J.jsx)("option",{value:"sr_red",children:"SRcard_Red"}),Object(J.jsx)("option",{value:"chulip",children:"Chu-lip"})]}),Object(J.jsx)(ie,{ref:o,type:"text",name:"title",placeholder:"Job Title"}),Object(J.jsx)(ie,{ref:l,type:"text",name:"email",placeholder:"Email"}),Object(J.jsx)(le,{ref:s,name:"message",placeholder:"Message"}),Object(J.jsx)(se,{children:Object(J.jsx)(n,{name:b.fileName,onFileChange:function(e){j({fileName:e.name,fileURL:e.url})}})}),Object(J.jsx)(te,{name:"Add",onClick:function(e){e.preventDefault();var n={id:Date.now(),name:a.current.value||"",company:r.current.value||"",theme:i.current.value,title:o.current.value||"",email:l.current.value||"",message:s.current.value||"",fileName:b.fileName||"",fileURL:b.fileURL||""};c.current.reset(),j({fileName:null,fileURL:null}),t(n)}})]})},re=E.c.form(b||(b=Object(P.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    margin-bottom: 20px;\n"]))),ie=E.c.input(j||(j=Object(P.a)(['\n    padding: 5px;\n    &[name="name"],&[name="company"]{width: 33.33%};\n    &[name="title"],&[name="email"]{width: 50%};\n']))),oe=E.c.select(h||(h=Object(P.a)(["\n    width: 33.33%;\n    padding: 5px;\n"]))),le=E.c.textarea(p||(p=Object(P.a)(["\n    width: 100%;\n    padding: 5px;\n"]))),se=E.c.div(m||(m=Object(P.a)(["\n    width: 50%;\n"]))),de=t(2),ue=function(e){var n=e.FileInput,t=e.card,c=e.updateCard,a=e.deleteCard,r=Object(D.useRef)(),i=Object(D.useRef)(),o=Object(D.useRef)(),l=Object(D.useRef)(),s=Object(D.useRef)(),d=Object(D.useRef)(),u=t.name,b=t.company,j=t.theme,h=t.title,p=t.email,m=t.message,x=t.fileName,f=function(e){null!=e.currentTarget&&(e.preventDefault(),c(Object(B.a)(Object(B.a)({},t),{},Object(de.a)({},e.currentTarget.name,e.currentTarget.value))))};return Object(J.jsxs)(be,{children:[Object(J.jsx)(je,{ref:r,type:"text",name:"name",value:u,onChange:f,placeholder:"Name"}),Object(J.jsx)(je,{ref:i,type:"text",name:"company",value:b,onChange:f,placeholder:"Company"}),Object(J.jsxs)(he,{ref:o,name:"theme",value:j,onChange:f,children:[Object(J.jsx)("option",{value:"light",children:"Business_Light"}),Object(J.jsx)("option",{value:"dark",children:"Business_Dark"}),Object(J.jsx)("option",{value:"navy",children:"Business_Navy"}),Object(J.jsx)("option",{value:"sr_blue",children:"SRcard_Blue"}),Object(J.jsx)("option",{value:"sr_red",children:"SRcard_Red"}),Object(J.jsx)("option",{value:"chulip",children:"Chu-lip"})]}),Object(J.jsx)(je,{ref:l,type:"text",name:"title",value:h,onChange:f,placeholder:"Job Title"}),Object(J.jsx)(je,{ref:s,type:"text",name:"email",value:p,onChange:f,placeholder:"Email"}),Object(J.jsx)(pe,{ref:d,name:"message",value:m,onChange:f,placeholder:"Message"}),Object(J.jsx)(me,{children:Object(J.jsx)(n,{name:x,onFileChange:function(e){c(Object(B.a)(Object(B.a)({},t),{},{fileName:e.name,fileURL:e.url}))}})}),Object(J.jsx)(te,{name:"Delete",onClick:function(e){a(t)}})]})},be=E.c.form(x||(x=Object(P.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    margin-bottom: 20px;\n"]))),je=E.c.input(f||(f=Object(P.a)(['\n    padding: 5px;\n    &[name="name"],&[name="company"]{width: 33.33%};\n    &[name="title"],&[name="email"]{width: 50%};\n']))),he=E.c.select(O||(O=Object(P.a)(["\n    width: 33.33%;\n    padding: 5px;\n"]))),pe=E.c.textarea(g||(g=Object(P.a)(["\n    width: 100%;\n    padding: 5px;\n"]))),me=E.c.div(v||(v=Object(P.a)(["\n    width: 50%;\n"]))),xe=function(e){var n=e.FileInput,t=e.cards,c=e.addCard,a=e.updateCard,r=e.deleteCard;return Object(J.jsxs)(fe,{children:[Object(J.jsx)(Oe,{children:"Card Maker"}),Object.keys(t).map((function(e){return Object(J.jsx)(ue,{FileInput:n,card:t[e],updateCard:a,deleteCard:r},"editor".concat(e))})),Object(J.jsx)(ae,{FileInput:n,onSubmit:c})]})},fe=E.c.div(k||(k=Object(P.a)(["\n    width: 50%; height: 100%;\n    padding: 20px;\n    border-right: 1px solid lightsteelblue;\n    overflow-y: auto;\n    &::-webkit-scrollbar{width:5px;}\n    &::-webkit-scrollbar-thumb{background-color: blueviolet;}\n    &::-webkit-scrollbar-track{background-color: lightsteelblue;}\n    @media ","{\n        width: 100%;\n        height: 50%;\n        border-right: none;\n        border-bottom: 1px solid lightsteelblue;\n    }\n"])),(function(e){return e.theme.tablet})),Oe=E.c.h4(w||(w=Object(P.a)(["\n    text-align: center;\n    padding: 20px;\n    color: navy;\n    font-size: 1.5em;\n"]))),ge=t.p+"static/media/default_logo.8d28673e.png",ve={srCardB:t.p+"static/media/sr_card_blue.e58edb7b.png",srCardR:t.p+"static/media/sr_card_red.0fea615e.png",chulip:t.p+"static/media/chulip.4a846319.png"},ke=function(e){var n=e.card,t=ge,c=n.name,a=n.company,r=n.theme,i=n.title,o=n.email,l=n.message,s=(n.fileName,n.fileURL||t);return Object(J.jsxs)(we,{className:r,img:s,children:[Object(J.jsx)(ye,{img:s,className:r,bg:ve}),Object(J.jsxs)(Ce,{className:r,children:[Object(J.jsx)(Re,{className:r,children:c}),Object(J.jsxs)(_e,{className:r,children:[Object(J.jsx)("span",{className:"material-icons",children:"business"}),a]}),Object(J.jsxs)("p",{children:[Object(J.jsx)("span",{className:"material-icons",children:"title"}),i]}),Object(J.jsxs)("p",{children:[Object(J.jsx)("span",{className:"material-icons",children:"mail"}),o]}),Object(J.jsxs)("p",{children:[Object(J.jsx)("span",{className:"material-icons",children:"chat"}),l]})]})]})},we=E.c.li(y||(y=Object(P.a)(["\n    min-width: 350px;\n    border: 1px solid lightgray;\n    border-radius: 10px;\n    margin-bottom: 20px;\n    display: flex;\n    position: relative;\n    align-items: center;\n    padding: 20px;\n    box-shadow: 3px 2px 5px 2px rgba(0, 0, 0, 0.4);\n    &.dark{\n        background-color: rgba(0,0,0,0.9);\n        color: white;\n    }\n    &.light{\n        background-color: white;\n        color: black;\n    }\n    &.navy{\n        background-color: navy;\n        color: lightblue;\n    }\n    &.sr_blue, &.sr_red, &.chulip{\n        min-width: unset;\n        width: 240px; min-height: 300px;\n        background-image: ",";\n        background-size: contain;\n        background-repeat: no-repeat;\n        padding: 0;\n    }\n"])),(function(e){return"url(".concat(e.img,")")})),ye=E.c.figure(C||(C=Object(P.a)(["\n    width: 130px; height: 130px;\n    border-radius: 10px;\n    background-image: ",";\n    background-color: white;\n    background-position: center;\n    background-size: cover;\n    background-repeat: no-repeat;\n    margin-right: 10px;\n    flex-shrink: 0;\n    &.sr_blue, &.sr_red, &.chulip{\n        background-color: unset;\n        width: 100%; height: 100%;\n    }\n    &.sr_blue{\n        background-image: ",";\n    }\n    &.sr_red{\n        background-image: ",";\n    }\n    &.chulip{\n        background-image: ",";\n    }\n"])),(function(e){return"url(".concat(e.img,")")}),(function(e){return"url(".concat(e.bg.srCardB,")")}),(function(e){return"url(".concat(e.bg.srCardR,")")}),(function(e){return"url(".concat(e.bg.chulip,")")})),Ce=E.c.div(R||(R=Object(P.a)(["\n    width: 100%;\n    p{\n        display: flex;\n        align-items: center;\n        margin-bottom: 3px;\n    }\n    .material-icons{\n        font-size: 1em;\n        margin-right: 5px;\n    }\n    &.sr_blue, &.sr_red, &.chulip{\n        position: absolute;\n        padding: 5px;\n        left: 10px; bottom: 10px;\n        border-radius: 10px;\n        font-size: 0.8em;\n        width: calc(100% - 20px);\n    }\n"]))),Re=E.c.h2(_||(_=Object(P.a)([""]))),_e=E.c.p(N||(N=Object(P.a)(["\n    width: 100%;\n    padding: 5px 0 10px 0;\n    border-bottom: 1px solid;\n"]))),Ne=function(e){var n=e.cards;return Object(J.jsxs)(Se,{children:[Object(J.jsx)(ze,{children:"Card Preview"}),Object(J.jsx)(Ie,{children:Object.keys(n).map((function(e){return Object(J.jsx)(ke,{card:n[e]},"card".concat(e))}))})]})},Se=E.c.div(S||(S=Object(P.a)(["\n    width: 50%; height: 100%;\n    padding: 20px;\n    overflow-y: auto;\n    background-color: white;\n    &::-webkit-scrollbar{width:5px;}\n    &::-webkit-scrollbar-thumb{background-color: blueviolet;}\n    &::-webkit-scrollbar-track{background-color: lightsteelblue;}\n    @media ","{\n        width: 100%;\n        height: 50%;\n    }\n"])),(function(e){return e.theme.tablet})),ze=E.c.h4(z||(z=Object(P.a)(["\n    text-align: center;\n    padding: 20px;\n    color: navy;\n    font-size: 1.5em;\n"]))),Ie=E.c.ul(I||(I=Object(P.a)(["\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]))),Fe=function(e){var n,t=e.FileInput,c=e.authService,a=e.cardRepository,r=Object(V.e)(),i=null===r||void 0===r||null===(n=r.location)||void 0===n?void 0:n.state,o=Object(D.useState)({}),l=Object(ne.a)(o,2),s=l[0],d=l[1],u=Object(D.useState)(i&&i.id),b=Object(ne.a)(u,2),j=b[0],h=b[1],p=function(e){var n=Object(B.a)({},s);n[e.id]=e,d(n),a.saveCard(j,n)};return Object(D.useEffect)((function(){if(j){var e=a.syncCards(j,(function(e){d(e)}));return function(){return e()}}}),[j]),Object(D.useEffect)((function(){c.onAuthChange((function(e){e?h(e.uid):r.push("/")}))})),Object(J.jsxs)(Le,{children:[Object(J.jsx)(W,{onLogout:function(){c.logout()}}),Object(J.jsxs)(Be,{children:[Object(J.jsx)(xe,{cards:s,FileInput:t,addCard:p,updateCard:p,deleteCard:function(e){var n=Object(B.a)({},s);delete n[e.id],d(n),a.removeCard(j,n)}}),Object(J.jsx)(Ne,{cards:s})]}),Object(J.jsx)(H,{})]})},Le=E.c.section(F||(F=Object(P.a)(["\n    width: 80vw;\n    height: 100vh;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n"]))),Be=E.c.div(L||(L=Object(P.a)(["\n    background: white;\n    height: calc(100% - 115px);\n    display: flex;\n    flex-wrap: wrap;\n"]))),De="800px",Ae={mobile:"(max-width: ".concat("480px",")"),tablet:"(max-width: ".concat(De,")")};var Te,Ue,Pe,Ee=function(e){var n=e.FileInput,t=e.authService,c=e.cardRepository;return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(E.a,{theme:Ae,children:[Object(J.jsxs)(ee.a,{children:[Object(J.jsx)(V.a,{exact:!0,path:"/",children:Object(J.jsx)(X,{authService:t})}),Object(J.jsx)(V.a,{exact:!0,path:"/maker",children:Object(J.jsx)(Fe,{FileInput:n,authService:t,cardRepository:c})})]}),Object(J.jsx)(G,{})]})})},Ge=t(0),Je=t.n(Ge),Me=t(3),qe=function(e){var n=e.imageUploader,t=e.name,c=e.onFileChange,a=Object(D.useState)(!1),r=Object(ne.a)(a,2),i=r[0],o=r[1],l=Object(D.useRef)(),s=function(){var e=Object(Me.a)(Je.a.mark((function e(t){var a;return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,n.upload(t.target.files[0]);case 3:a=e.sent,o(!1),c({name:a.original_filename,url:a.url});case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(J.jsxs)(We,{children:[Object(J.jsx)("input",{ref:l,type:"file",accept:"image/*",name:"file",onChange:s}),!i&&Object(J.jsx)(Ke,{onClick:function(e){e.preventDefault(),l.current.click()},name:t,children:t||"No Image"}),i&&Object(J.jsx)(He,{children:"Loading..."})]})},We=E.c.div(Te||(Te=Object(P.a)(["\n    width: 100%;\n    height: 100%;\n    display: flex;\n    input{display: none;};\n"]))),Ke=E.c.button(Ue||(Ue=Object(P.a)(["\n    width: 100%;\n    background-color: ",";\n    border: none;\n    font-weight: bold;\n    cursor: pointer;\n    &:hover{\n        opacity: 0.8;\n    }\n"])),(function(e){return e.name?"pink":"lavender"})),He=E.c.div(Pe||(Pe=Object(P.a)(["\n    background-color: lavender;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 0.8em;\n"]))),Ve=t(4),Xe=t(5),Ye=t(34),Ze=function(){function e(){Object(Ve.a)(this,e),this.firebaseAuth=Object(Ye.c)(),this.firebaseAuth.languageCode="ko",this.googleProvider=new Ye.b,this.githubProvider=new Ye.a}return Object(Xe.a)(e,[{key:"login",value:function(e){var n=this.getProvider(e);return Object(Ye.d)(this.firebaseAuth,n)}},{key:"logout",value:function(){this.firebaseAuth.signOut()}},{key:"onAuthChange",value:function(e){this.firebaseAuth.onAuthStateChanged((function(n){e(n)}))}},{key:"getProvider",value:function(e){switch(e){case"Google":return this.googleProvider;case"Github":return this.githubProvider;default:throw new Error("Not supported")}}}]),e}(),Qe=t(27),$e=function(){function e(){Object(Ve.a)(this,e),this.db=Object(Qe.a)()}return Object(Xe.a)(e,[{key:"syncCards",value:function(e,n){var t=Object(Qe.d)(this.db,"".concat(e,"/cards"));return Object(Qe.c)(t,(function(e){var t=e.val();t&&n(t)})),function(){return Object(Qe.b)(t)}}},{key:"saveCard",value:function(e,n){Object(Qe.e)(Object(Qe.d)(this.db,"".concat(e,"/cards")),n)}},{key:"removeCard",value:function(e,n){Object(Qe.e)(Object(Qe.d)(this.db,"".concat(e,"/cards")),n)}}]),e}(),en=t(48),nn=Object(en.a)({apiKey:"AIzaSyCDyDTqt-ZVY4Xjzr62hz5T8TG-oCuWrzw",authDomain:"business-card-maker-2121b.firebaseapp.com",databaseURL:"https://business-card-maker-2121b-default-rtdb.firebaseio.com",projectId:"business-card-maker-2121b",storageBucket:"business-card-maker-2121b.appspot.com",messagingSenderId:"568518251848",appId:"1:568518251848:web:58e65c2806b14fdc438f7d",measurementId:"G-JF6LWWH9K7"}),tn=function(){function e(){Object(Ve.a)(this,e)}return Object(Xe.a)(e,[{key:"upload",value:function(){var e=Object(Me.a)(Je.a.mark((function e(n){var t,c;return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new FormData,"https://api.cloudinary.com/v1_1/dcayot0zf/upload",t.append("file",n),t.append("upload_preset","lkcqhuqd"),e.next=6,fetch("https://api.cloudinary.com/v1_1/dcayot0zf/upload",{method:"POST",body:t});case 6:return c=e.sent,e.next=9,c.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}]),e}(),cn=new Ze(nn),an=new tn,rn=new $e(nn);U.a.render(Object(J.jsx)(A.a.StrictMode,{children:Object(J.jsx)(Ee,{authService:cn,FileInput:function(e){return Object(J.jsx)(qe,Object(B.a)(Object(B.a)({},e),{},{imageUploader:an}))},cardRepository:rn})}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.1dea949f.chunk.js.map